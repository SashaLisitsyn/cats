{"version":3,"sources":["types/cardsTypes.js","reducers/cardsReducer.js","reducers/rootReducer.js","store/cardsStore.js","components/Header/index.jsx","components/CardItem/index.jsx","actions/cardsActions.js","components/CardsList/index.jsx","components/CardsLikedFiltred/index.jsx","components/Footer/index.jsx","components/App/index.jsx","index.js"],"names":["FETCH_CARDS","LIKE_CARD","DELETE_CARD","FILTRED_CARDS","initialState","cardsList","likesList","isFilter","rootReducer","combineReducers","cards","state","action","type","payload","cardItemId","filter","cardItem","id","editedLikes","notExists","some","status","cardsStore","createStore","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","Header","className","CardItem","props","like","dispatch","useDispatch","cardLikeButtonClassName","src","urls","regular","alt","user","name","onClick","deleteCard","target","href","social","instagram_username","likeCard","CardsList","useSelector","likes","useEffect","a","fetch","headers","Authorization","response","json","results","map","cardLiked","cardLikedId","CardsLikedFilter","filterStatus","filterCards","Footer","App","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.54bbd27c.chunk.js","sourcesContent":["export const FETCH_CARDS = 'FETCH_CARDS';\r\nexport const LIKE_CARD = 'SET_LIKE_CARD';\r\nexport const DELETE_CARD = 'DELETE_CARD';\r\nexport const FILTRED_CARDS = 'FILTRED_CARDS';\r\n","import {\r\n  FETCH_CARDS,\r\n  LIKE_CARD,\r\n  DELETE_CARD,\r\n  FILTRED_CARDS,\r\n} from '../types/cardsTypes';\r\n\r\nconst initialState = {\r\n  cardsList: [],\r\n  likesList: [],\r\n  isFilter: false,\r\n};\r\n\r\nexport const cardsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_CARDS:\r\n      return { ...state, cardsList: action.payload };\r\n\r\n    case DELETE_CARD:\r\n      const cardItemId = action.payload;\r\n      return {\r\n        ...state,\r\n        cardsList: state.cardsList.filter(\r\n          (cardItem) => cardItem.id !== cardItemId\r\n        ),\r\n      };\r\n\r\n    case LIKE_CARD:\r\n      let editedLikes = [];\r\n      const cardItem = action.payload;\r\n      const notExists = !state.likesList.some(\r\n        (cardItemId) => cardItemId === cardItem.id\r\n      );\r\n      if (notExists) {\r\n        editedLikes = [...state.likesList, cardItem.id];\r\n      } else {\r\n        editedLikes = state.likesList.filter(\r\n          (cardItemId) => cardItemId !== cardItem.id\r\n        );\r\n      }\r\n      return {\r\n        ...state,\r\n        likesList: editedLikes,\r\n      };\r\n\r\n    case FILTRED_CARDS:\r\n      const status = action.payload;\r\n      return {\r\n        ...state,\r\n        isFilter: status,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from 'redux';\r\n\r\nimport { cardsReducer } from './cardsReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n  cards: cardsReducer,\r\n});\r\n","import { compose, createStore } from 'redux';\r\nimport { applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { rootReducer } from '../reducers/rootReducer';\r\n\r\nexport const cardsStore = createStore(\r\n  rootReducer,\r\n  compose(\r\n    applyMiddleware(thunk),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n","import './styles.css';\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"header__title\">Cats</h1>\r\n    </header>\r\n  );\r\n};\r\n","import './styles.css';\r\n\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { deleteCard, likeCard } from '../../actions/cardsActions';\r\n\r\nexport const CardItem = (props) => {\r\n  const { cardItem, like } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLikeClick = () => {\r\n    dispatch(likeCard(cardItem));\r\n  };\r\n\r\n  const handleDeleteClick = () => {\r\n    dispatch(deleteCard(cardItem.id));\r\n  };\r\n\r\n  const cardLikeButtonClassName = `card-item__like ${\r\n    like ? 'card-item__like_active' : ''\r\n  }`;\r\n\r\n  return (\r\n    <div className=\"card-item\">\r\n      <img\r\n        className=\"card-item__photo\"\r\n        src={cardItem.urls.regular}\r\n        alt={cardItem.user.name}\r\n      />\r\n      <button\r\n        className=\"card-item__delete\"\r\n        type=\"button\"\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <a\r\n        className=\"card-item__user-instagram\"\r\n        target=\"blank\"\r\n        href={`https://www.instagram.com/${cardItem.user.social.instagram_username}/`}\r\n      >\r\n        Instagram: {cardItem.user.social.instagram_username}\r\n      </a>\r\n      <div className=\"card-item__description\">\r\n        <button\r\n          className={cardLikeButtonClassName}\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  FETCH_CARDS,\r\n  DELETE_CARD,\r\n  LIKE_CARD,\r\n  FILTRED_CARDS,\r\n} from '../types/cardsTypes';\r\n\r\nexport const fetchCards = () => {\r\n  return async (dispatch) => {\r\n    const response = await fetch(\r\n      'https://api.unsplash.com/search/photos?query=cat',\r\n      {\r\n        headers: {\r\n          Authorization:\r\n            'Client-ID IeCjn9OyTne41SW4UBklyy96cNSkg5L_KCdLi3zsutI',\r\n        },\r\n      }\r\n    );\r\n    const json = await response.json();\r\n    dispatch({ type: FETCH_CARDS, payload: json.results });\r\n  };\r\n};\r\n\r\nexport const deleteCard = (cardItem) => {\r\n  return {\r\n    type: DELETE_CARD,\r\n    payload: cardItem,\r\n  };\r\n};\r\n\r\nexport const likeCard = (cardItem) => {\r\n  return {\r\n    type: LIKE_CARD,\r\n    payload: cardItem,\r\n  };\r\n};\r\n\r\nexport const filterCards = (filterStatus) => {\r\n  return {\r\n    type: FILTRED_CARDS,\r\n    payload: filterStatus,\r\n  };\r\n};\r\n","import './styles.css';\r\n\r\nimport { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { fetchCards } from '../../actions/cardsActions';\r\n\r\nimport { CardItem } from '../CardItem';\r\n\r\nexport const CardsList = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const cardsList = useSelector((cardsList) => cardsList.cards.cardsList);\r\n  const likes = useSelector((cardsList) => cardsList.cards.likesList);\r\n  const status = useSelector((cardsList) => cardsList.cards.isFilter);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCards());\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"cards-list\">\r\n      {cardsList.map((cardItem) => {\r\n        const cardLiked = likes.filter(\r\n          (cardLikedId) => cardLikedId === cardItem.id\r\n        )[0];\r\n\r\n        if (status && cardLiked) {\r\n          return (\r\n            <CardItem key={cardItem.id} cardItem={cardItem} like={cardLiked} />\r\n          );\r\n        } else if (status === false) {\r\n          return (\r\n            <CardItem key={cardItem.id} cardItem={cardItem} like={cardLiked} />\r\n          );\r\n        }\r\n      })}\r\n    </main>\r\n  );\r\n};\r\n","import './styles.css';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { filterCards } from '../../actions/cardsActions';\r\n\r\nexport const CardsLikedFilter = () => {\r\n  const dispatch = useDispatch();\r\n  const filterStatus = useSelector((cardsList) => cardsList.cards.isFilter);\r\n\r\n  const handleCardFilter = () => {\r\n    dispatch(filterCards(!filterStatus));\r\n  };\r\n\r\n  return (\r\n    <div className=\"cards-filter\">\r\n      <button\r\n        className=\"cards-filter__button\"\r\n        onClick={handleCardFilter}\r\n      ></button>\r\n    </div>\r\n  );\r\n};\r\n","import './styles.css';\r\n\r\nexport const Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">Â© 2021 Sasha Lisitsyn</p>\r\n    </footer>\r\n  );\r\n};\r\n","import './styles.css';\r\n\r\nimport { Header } from '../Header';\r\nimport { CardsList } from '../CardsList';\r\nimport { CardsLikedFilter } from '../CardsLikedFiltred';\r\nimport { Footer } from '../Footer';\r\n\r\nexport const App = () => {\r\n  return (\r\n    <div className=\"app\">\r\n      <Header />\r\n      <CardsLikedFilter />\r\n      <CardsList />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport { cardsStore } from './store/cardsStore';\r\n\r\nimport { App } from './components/App';\r\n\r\nrender(\r\n  <React.StrictMode>\r\n    <Provider store={cardsStore}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}